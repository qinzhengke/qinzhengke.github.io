<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Eigen：强大的纯头文件线性运算库</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax:{
        inlineMath: [["\\(", "\\)"]],
        displayMath: [['$$','$$'],["\\[","\\]"]],
        processEscapes: true
    },
    "HTML-CSS": {fonts: ["TeX"]},
    TeX: {
        extensions: ["AMSmath.js", "AMSsymbols.js", "noErrors.js", "noUndefined.js"],
        equationNumbers: {autoNumber: "all"},
    }
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cpp_lib_eigen.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Eigen：强大的纯头文件线性运算库 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><hr/>
 <h1><a class="anchor" id="安装"></a>
安装</h1>
<div class="fragment"><div class="line">cd &lt;eigen_dir&gt;</div><div class="line">mdkir build</div><div class="line">cd build</div><div class="line">cmake ..</div><div class="line">sudo make install</div><div class="line"># 没错，中间没有make，因为eigen是纯头文件组成的，不需要预先编译成库。</div><div class="line"># 安装好后，默认的头文件地址在 /usr/local/include/eigen3</div></div><!-- fragment --><hr/>
 <h1><a class="anchor" id="矩阵的初始化（包括全零阵、单位阵）"></a>
矩阵的初始化（包括全零阵、单位阵）</h1>
<hr/>
 <h1><a class="anchor" id="获取子矩阵"></a>
获取子矩阵</h1>
<p>参见： <a href="https://eigen.tuxfamily.org/dox/group__TutorialBlockOperations.html">https://eigen.tuxfamily.org/dox/group__TutorialBlockOperations.html</a></p>
<hr/>
 <h1><a class="anchor" id="Matrix和C数组之间的转换"></a>
Matrix和C数组之间的转换</h1>
<p>参见： <a href="https://eigen.tuxfamily.org/dox/group__TutorialMapClass.html">https://eigen.tuxfamily.org/dox/group__TutorialMapClass.html</a></p>
<hr/>
 <h1><a class="anchor" id="auto获取矩阵失效？"></a>
auto获取矩阵失效？</h1>
<div class="fragment"><div class="line"><span class="comment">// 编译失败</span></div><div class="line"><span class="keyword">auto</span> a = Eigen::Matrix&lt;float,9,9&gt;::Zero();</div><div class="line"></div><div class="line"><span class="comment">// 编译成功</span></div><div class="line">Eigen::Matrix&lt;float,9,9&gt; a = Eigen::Matrix&lt;float,9,9&gt;::Zero();</div><div class="line"></div><div class="line"><span class="comment">// 编译成功</span></div><div class="line"><span class="keyword">auto</span> a = Eigen::Matrix3f::Zero();</div></div><!-- fragment --><h1><a class="anchor" id="传参时MatrixNd到MatrixXd的转换"></a>
传参时MatrixNd到MatrixXd的转换</h1>
<p>函数传参时，MatrixNd要转换成MatrixXd，（N表示具体的数字，例如3），编译器会自动转换，但是转换得到的是一个右值，是一个临时变量。 如果函数的形参是非常量引用，那么编译器就会报错。</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> func(MatrixXd &amp;a){</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line">Matrix3d x;</div><div class="line">Matrix</div><div class="line">func(x);    <span class="comment">// x传入之后自动cast，变成右值。</span></div></div><!-- fragment --><hr/>
 <h1><a class="anchor" id="四元数与欧拉角的转换"></a>
四元数与欧拉角的转换</h1>
<div class="fragment"><div class="line"><span class="comment">// 从欧拉角到四元数</span></div><div class="line">Quaternionf q = AngleAxisf(yaw, Vector3f::UnitZ())</div><div class="line">    * AngleAxisf(pitch, Vector3f::UnitY())</div><div class="line">    * AngleAxisf(roll, Vector3f::UnitX());</div><div class="line"></div><div class="line"><span class="comment">// 从四元数到欧拉角</span></div><div class="line"><span class="keyword">auto</span> euler = q.toRotationMatrix().eulerAngles(2, 1, 0);</div></div><!-- fragment --><hr/>
 <h1><a class="anchor" id="Eigen中四元数到欧拉角的一个一定要注意的问题"></a>
Eigen中四元数到欧拉角的一个一定要注意的问题</h1>
<p>使用这种方式计算的欧拉角的三个角度的范围是[0,pi], [-pi,pi], [-pi,pi]。 对于我们的XYZ欧拉角，也就是说yaw角的范围是[0,pi]，机器人的运动领域中是不够用的，因为在平面移动的时候，yaw角通常取值范围是[-pi,pi]。</p>
<div class="fragment"><div class="line">Vector3d euler(Quaterniond q){</div><div class="line">    <span class="keywordflow">return</span> q.toRotationMatrix().eulerAngles(2,1,0);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">double</span> yaw(Quaterniond q){</div><div class="line">    <span class="keywordflow">return</span> getEuler(q)[0];</div><div class="line">}</div><div class="line"></div><div class="line">Quaterniond getQ(Vector3d euler){</div><div class="line">    <span class="keywordflow">return</span>  AngleAxisd(euler[0], Vector3d::UnitZ())</div><div class="line">        *AngleAxisd(euler[1], Vector3d::UnitY())</div><div class="line">        *AngleAxisd(euler[2], Vector3d::UnitX());</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line">cout&lt;&lt;yaw(Quaterniond(0.707,0,0,0.707))&lt;&lt;endl;</div><div class="line">cout&lt;&lt;yaw(Quaterniond(0.707,0,0,-0.707))&lt;&lt;endl;</div><div class="line">Vector3d e(1.57,0,0);</div><div class="line"><span class="keyword">auto</span> q = getQ(e);</div><div class="line">cout&lt;&lt;q.w()&lt;&lt;<span class="stringliteral">&quot;,&quot;</span>&lt;&lt;q.x()&lt;&lt;<span class="stringliteral">&quot;,&quot;</span>&lt;&lt;q.y()&lt;&lt;<span class="stringliteral">&quot;,&quot;</span>&lt;&lt;q.z()&lt;&lt;endl;</div></div><!-- fragment --><p>输出结果： </p><div class="fragment"><div class="line">1.57049</div><div class="line">1.5711  // 错误结果 这里应该是 -1.57才对</div><div class="line">0.707388,0,0,0.706825</div></div><!-- fragment --><hr/>
 <h1><a class="anchor" id="eigen中各种旋转表达之间的转换"></a>
eigen中各种旋转表达之间的转换</h1>
<p>代码来自 <a href="https://blog.csdn.net/weicao1990/article/details/86148828">https://blog.csdn.net/weicao1990/article/details/86148828</a></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"> </div><div class="line"><span class="preprocessor">#include &lt;Eigen/Core&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;Eigen/Geometry&gt;</span></div><div class="line"> </div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"> </div><div class="line"><span class="preprocessor">#define PI (3.1415926535897932346f)</span></div><div class="line"> </div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) </div><div class="line">{</div><div class="line">    <span class="comment">/**** 1. 旋转向量 ****/</span></div><div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;********** AngleAxis **********&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="comment">//1.0 初始化旋转向量,沿Z轴旋转45度的旋转向量</span></div><div class="line">    Eigen::AngleAxisd rotation_vector1 (M_PI/4, Eigen::Vector3d(0, 0, 1)); </div><div class="line"> </div><div class="line">    <span class="comment">//1.1 旋转向量转换为旋转矩阵</span></div><div class="line">    <span class="comment">//旋转向量用matrix()转换成旋转矩阵</span></div><div class="line">    Eigen::Matrix3d rotation_matrix1 = Eigen::Matrix3d::Identity();</div><div class="line">    rotation_matrix1 = rotation_vector1.matrix();</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation matrix1 =\n&quot;</span> &lt;&lt; rotation_matrix1 &lt;&lt; endl;                </div><div class="line">    <span class="comment">//或者由罗德里格公式进行转换</span></div><div class="line">    rotation_matrix1 = rotation_vector1.toRotationMatrix();</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation matrix1 =\n&quot;</span> &lt;&lt; rotation_matrix1 &lt;&lt; endl; </div><div class="line"> </div><div class="line">    <span class="comment">/*1.2 旋转向量转换为欧拉角*/</span></div><div class="line">    <span class="comment">//将旋转向量转换为旋转矩阵,再由旋转矩阵转换为欧拉角,详见旋转矩阵转换为欧拉角</span></div><div class="line">    Eigen::Vector3d eulerAngle1 = rotation_vector1.matrix().eulerAngles(2,1,0);</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;eulerAngle1, z y x: &quot;</span> &lt;&lt; eulerAngle1 &lt;&lt; endl;</div><div class="line"> </div><div class="line">    <span class="comment">/*1.3 旋转向量转四元数*/</span></div><div class="line">    Eigen::Quaterniond quaternion1(rotation_vector1);</div><div class="line">    <span class="comment">//或者</span></div><div class="line">    Eigen::Quaterniond quaternion1_1;</div><div class="line">    quaternion1_1 = rotation_vector1;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion1 x: &quot;</span> &lt;&lt; quaternion1.x() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion1 y: &quot;</span> &lt;&lt; quaternion1.y() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion1 z: &quot;</span> &lt;&lt; quaternion1.z() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion1 w: &quot;</span> &lt;&lt; quaternion1.w() &lt;&lt; endl;</div><div class="line">    </div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion1_1 x: &quot;</span> &lt;&lt; quaternion1_1.x() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion1_1 y: &quot;</span> &lt;&lt; quaternion1_1.y() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion1_1 z: &quot;</span> &lt;&lt; quaternion1_1.z() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion1_1 w: &quot;</span> &lt;&lt; quaternion1_1.w() &lt;&lt; endl;</div><div class="line"> </div><div class="line"> </div><div class="line">    <span class="comment">/**** 2. 旋转矩阵 *****/</span></div><div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;********** RotationMatrix **********&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="comment">//2.0 旋转矩阵初始化</span></div><div class="line">    Eigen::Matrix3d rotation_matrix2;</div><div class="line">    rotation_matrix2 &lt;&lt; 0.707107, -0.707107, 0, 0.707107, 0.707107, 0, 0, 0, 1;</div><div class="line">;</div><div class="line">    <span class="comment">//或直接单位矩阵初始化</span></div><div class="line">    Eigen::Matrix3d rotation_matrix2_1 = Eigen::Matrix3d::Identity();</div><div class="line"> </div><div class="line">    <span class="comment">//2.1 旋转矩阵转换为欧拉角</span></div><div class="line">    <span class="comment">//ZYX顺序，即先绕x轴roll,再绕y轴pitch,最后绕z轴yaw,0表示X轴,1表示Y轴,2表示Z轴</span></div><div class="line">    Eigen::Vector3d euler_angles = rotation_matrix2.eulerAngles(2, 1, 0); </div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;yaw(z) pitch(y) roll(x) = &quot;</span> &lt;&lt; euler_angles.transpose() &lt;&lt; endl;</div><div class="line"> </div><div class="line">    <span class="comment">//2.2 旋转矩阵转换为旋转向量</span></div><div class="line">    Eigen::AngleAxisd rotation_vector2;</div><div class="line">    rotation_vector2.fromRotationMatrix(rotation_matrix2);</div><div class="line">    <span class="comment">//或者</span></div><div class="line">    Eigen::AngleAxisd rotation_vector2_1(rotation_matrix2);</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation_vector2 &quot;</span> &lt;&lt; <span class="stringliteral">&quot;angle is: &quot;</span> &lt;&lt; rotation_vector2.angle() * (180 / M_PI) </div><div class="line">                                &lt;&lt; <span class="stringliteral">&quot; axis is: &quot;</span> &lt;&lt; rotation_vector2.axis().transpose() &lt;&lt; endl;</div><div class="line"> </div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation_vector2_1 &quot;</span> &lt;&lt; <span class="stringliteral">&quot;angle is: &quot;</span> &lt;&lt; rotation_vector2_1.angle() * (180 / M_PI) </div><div class="line">                                  &lt;&lt; <span class="stringliteral">&quot; axis is: &quot;</span> &lt;&lt; rotation_vector2_1.axis().transpose() &lt;&lt; endl;</div><div class="line"> </div><div class="line">    <span class="comment">//2.3 旋转矩阵转换为四元数</span></div><div class="line">    Eigen::Quaterniond quaternion2(rotation_matrix2);</div><div class="line">    <span class="comment">//或者</span></div><div class="line">    Eigen::Quaterniond quaternion2_1;</div><div class="line">    quaternion2_1 = rotation_matrix2;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion2 x: &quot;</span> &lt;&lt; quaternion2.x() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion2 y: &quot;</span> &lt;&lt; quaternion2.y() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion2 z: &quot;</span> &lt;&lt; quaternion2.z() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion2 w: &quot;</span> &lt;&lt; quaternion2.w() &lt;&lt; endl;</div><div class="line">    </div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion2_1 x: &quot;</span> &lt;&lt; quaternion2_1.x() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion2_1 y: &quot;</span> &lt;&lt; quaternion2_1.y() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion2_1 z: &quot;</span> &lt;&lt; quaternion2_1.z() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion2_1 w: &quot;</span> &lt;&lt; quaternion2_1.w() &lt;&lt; endl;</div><div class="line"> </div><div class="line"> </div><div class="line">    <span class="comment">/**** 3. 欧拉角 ****/</span></div><div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;********** EulerAngle **********&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="comment">//3.0 初始化欧拉角(Z-Y-X，即RPY, 先绕x轴roll,再绕y轴pitch,最后绕z轴yaw)</span></div><div class="line">    Eigen::Vector3d ea(0.785398, -0, 0);</div><div class="line"> </div><div class="line">    <span class="comment">//3.1 欧拉角转换为旋转矩阵</span></div><div class="line">    Eigen::Matrix3d rotation_matrix3;</div><div class="line">    rotation_matrix3 = Eigen::AngleAxisd(ea[0], Eigen::Vector3d::UnitZ()) * </div><div class="line">                       Eigen::AngleAxisd(ea[1], Eigen::Vector3d::UnitY()) * </div><div class="line">                       Eigen::AngleAxisd(ea[2], Eigen::Vector3d::UnitX());</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation matrix3 =\n&quot;</span> &lt;&lt; rotation_matrix3 &lt;&lt; endl;   </div><div class="line"> </div><div class="line">    <span class="comment">//3.2 欧拉角转换为四元数,</span></div><div class="line">    Eigen::Quaterniond quaternion3;</div><div class="line">    quaternion3 = Eigen::AngleAxisd(ea[0], Eigen::Vector3d::UnitZ()) * </div><div class="line">                  Eigen::AngleAxisd(ea[1], Eigen::Vector3d::UnitY()) * </div><div class="line">                  Eigen::AngleAxisd(ea[2], Eigen::Vector3d::UnitX());</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion3 x: &quot;</span> &lt;&lt; quaternion3.x() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion3 y: &quot;</span> &lt;&lt; quaternion3.y() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion3 z: &quot;</span> &lt;&lt; quaternion3.z() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;quaternion3 w: &quot;</span> &lt;&lt; quaternion3.w() &lt;&lt; endl;</div><div class="line"> </div><div class="line">    <span class="comment">//3.3 欧拉角转换为旋转向量</span></div><div class="line">    Eigen::AngleAxisd rotation_vector3;</div><div class="line">    rotation_vector3 = Eigen::AngleAxisd(ea[0], Eigen::Vector3d::UnitZ()) * </div><div class="line">                       Eigen::AngleAxisd(ea[1], Eigen::Vector3d::UnitY()) * </div><div class="line">                       Eigen::AngleAxisd(ea[2], Eigen::Vector3d::UnitX());  </div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation_vector3 &quot;</span> &lt;&lt; <span class="stringliteral">&quot;angle is: &quot;</span> &lt;&lt; rotation_vector3.angle() * (180 / M_PI) </div><div class="line">                                &lt;&lt; <span class="stringliteral">&quot; axis is: &quot;</span> &lt;&lt; rotation_vector3.axis().transpose() &lt;&lt; endl;</div><div class="line"> </div><div class="line"> </div><div class="line">    <span class="comment">/**** 4.四元数 ****/</span></div><div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;********** Quaternion **********&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="comment">//4.0 初始化四元素,注意eigen Quaterniond类四元数初始化参数顺序为w,x,y,z</span></div><div class="line">    Eigen::Quaterniond quaternion4(0.92388, 0, 0, 0.382683);</div><div class="line"> </div><div class="line">    <span class="comment">//4.1 四元数转换为旋转向量</span></div><div class="line">    Eigen::AngleAxisd rotation_vector4(quaternion4);</div><div class="line">    <span class="comment">//或者</span></div><div class="line">    Eigen::AngleAxisd rotation_vector4_1;</div><div class="line">    rotation_vector4_1 = quaternion4;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation_vector4 &quot;</span> &lt;&lt; <span class="stringliteral">&quot;angle is: &quot;</span> &lt;&lt; rotation_vector4.angle() * (180 / M_PI) </div><div class="line">                                &lt;&lt; <span class="stringliteral">&quot; axis is: &quot;</span> &lt;&lt; rotation_vector4.axis().transpose() &lt;&lt; endl;</div><div class="line"> </div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation_vector4_1 &quot;</span> &lt;&lt; <span class="stringliteral">&quot;angle is: &quot;</span> &lt;&lt; rotation_vector4_1.angle() * (180 / M_PI) </div><div class="line">                                  &lt;&lt; <span class="stringliteral">&quot; axis is: &quot;</span> &lt;&lt; rotation_vector4_1.axis().transpose() &lt;&lt; endl;</div><div class="line"> </div><div class="line">    <span class="comment">//4.2 四元数转换为旋转矩阵</span></div><div class="line">    Eigen::Matrix3d rotation_matrix4;</div><div class="line">    rotation_matrix4 = quaternion4.matrix();</div><div class="line">    Eigen::Matrix3d rotation_matrix4_1;</div><div class="line">    rotation_matrix4_1 = quaternion4.toRotationMatrix();</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation matrix4 =\n&quot;</span> &lt;&lt; rotation_matrix4 &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;rotation matrix4_1 =\n&quot;</span> &lt;&lt; rotation_matrix4_1 &lt;&lt; endl;      </div><div class="line"> </div><div class="line"> </div><div class="line">    <span class="comment">//4.4 四元数转欧拉角(Z-Y-X，即RPY)</span></div><div class="line">    Eigen::Vector3d eulerAngle4 = quaternion4.matrix().eulerAngles(2,1,0);</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;yaw(z) pitch(y) roll(x) = &quot;</span> &lt;&lt; eulerAngle4.transpose() &lt;&lt; endl;</div><div class="line"> </div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <ul>
    <li class="navelem"><a class="el" href="zk_note.html">学习笔记</a></li><li class="navelem"><a class="el" href="programming.html">编程（Programming）</a></li><li class="navelem"><a class="el" href="cpp.html">C++：青出于蓝，我斑愿称之为最强！</a></li><li class="navelem"><a class="el" href="cpp_awesome_lib.html">C++常用库</a></li>
    <li class="footer">
      <span id="busuanzi_container_site_pv">
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
    </span>
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
