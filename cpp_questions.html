<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>一个普通的笔记本: C++面试题</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax:{
        inlineMath: [["\\(", "\\)"]],
        displayMath: [['$$','$$'],["\\[","\\]"]],
        processEscapes: true
    },
    "HTML-CSS": {fonts: ["TeX"]},
    TeX: {
        extensions: ["AMSmath.js", "AMSsymbols.js", "noErrors.js", "noUndefined.js"],
        equationNumbers: {autoNumber: "all"},
    }
});
</script><script type="text/javascript" src="./MathJax-2.7.8/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cpp_questions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">C++面试题 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="综合篇"></a>
综合篇</h1>
<h2><a class="anchor" id="static的用处"></a>
static的用处</h2>
<ol type="1">
<li>修饰全局变量和函数（C语言）：全局变量和函数只能被当前文件访问，不用担心外部命名冲突。</li>
<li>修饰函数内部变量：静态函数，分配在堆里，各个函数实例共享。</li>
<li>修饰类成员变量：只能够有静态函数访问。</li>
<li>修饰类成员函数：不属于某个对象，而属于整个类，使用类加上”::“访问。</li>
</ol>
<h2><a class="anchor" id="左值和右值是什么？"></a>
左值和右值是什么？</h2>
<p>左值：可以取地址的、有名字的，例如普通定义变量、变量的引用，指针。</p>
<p>右值：不可取地址的或者没有名字的，例如常量、表达式(a+b)、函数返回值func()。</p>
<h2><a class="anchor" id="cpp_right_ref"></a>
右值引用(&amp;&amp;)是什么？</h2>
<p>顾名思义，对右值的引用，c++11使用，可以用于给寿命短暂的右值进行续命。</p>
<p>注意，右值引用本身是左值，是可以取地址的。</p>
<div class="fragment"><div class="line"><span class="comment">// 语句结束后，func()临时变量会被销毁。</span></div><div class="line"><span class="keywordtype">int</span> a = func();</div><div class="line"></div><div class="line"><span class="comment">// 语句结束后，func()临时变量会被续命，生命周期延长至和b一样。</span></div><div class="line"><span class="keywordtype">int</span> &amp;&amp;b = func();</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> &amp;&amp;c = 1;</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">struct </span>A</div><div class="line">{</div><div class="line">    A(){}</div><div class="line">    A(<span class="keyword">const</span> A&amp; a){}</div><div class="line">    ~A(){}</div><div class="line">};</div><div class="line"></div><div class="line">A GetA()</div><div class="line">{</div><div class="line">    <span class="keywordflow">return</span> A();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">    A a = GetA(); <span class="comment">// 构造函数执行两次</span></div><div class="line"></div><div class="line">    A &amp;&amp;b = GetA(); <span class="comment">// 构造函数执行一次</span></div><div class="line"></div><div class="line">    <span class="keyword">const</span> A &amp;b = GetA(); <span class="comment">// 构造函数执行一次</span></div><div class="line"></div><div class="line">    A &amp;d = GetA(); <span class="comment">// 非const引用右值，非法</span></div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>上面的代码中，A的构造函数实际上被执行了两次，第一次在GetA()里，第二次是在A a=GetA()处。</p>
<p>如果使用右值引用，则只构造函数只执行一次，减少临时变量构造函数的执行次数。</p>
<h2><a class="anchor" id="lambda表达式是什么，怎么使用？"></a>
lambda表达式是什么，怎么使用？</h2>
<p>匿名函数，在需要传入函数的地方使用，非常方便，例如sort函数。</p>
<h1><a class="anchor" id="模板篇"></a>
模板篇</h1>
<h2><a class="anchor" id="模板函数是什么，什么时候用？"></a>
模板函数是什么，什么时候用？</h2>
<p>抽象数据类型，减少因为类型而重复定义的函数。</p>
<h2><a class="anchor" id="模板函数能否在cpp文件中定义，为什么？"></a>
模板函数能否在cpp文件中定义，为什么？</h2>
<p>不能，因为模板函数在用户调用时才能确定实例化成哪一种类型，而定义在cpp文件中的模板函数实际上是空的，link时是无法找到实例化函数的。 定义在头文件中时，头文件会随着用户代码一起编译，此时便能生成具体的函数。</p>
<h2><a class="anchor" id="内存碎片如何生成，怎么处理？"></a>
内存碎片如何生成，怎么处理？</h2>
<p>频繁地动态分配内存，尽量静态分配好内存。</p>
<h1><a class="anchor" id="多态篇"></a>
多态篇</h1>
<h2><a class="anchor" id="多态如何实现？"></a>
多态如何实现？</h2>
<p>对象的实例内存上其实地址存放一个指针，指向虚函数表，不同类型的对象虚函数表不一样。</p>
<h2><a class="anchor" id="虚函数表有多少张？"></a>
虚函数表有多少张？</h2>
<p>基类数量+子类数量，假设基类A派生出B和C，那么一共有3张虚函数表。</p>
<h2><a class="anchor" id="多态模式中子类的析构函数有什么要注意的，为什么？"></a>
多态模式中子类的析构函数有什么要注意的，为什么？</h2>
<p>子类的析构函数要设置为虚函数，这样，父类指针指向子类对象并且析构时，才会先执行子类的析构函数，后执行父类的析构函数。</p>
<p>否则，程序只会执行父类的析构函数，造成子类的内存泄漏等问题。</p>
<h1><a class="anchor" id="STL篇"></a>
STL篇</h1>
<h2><a class="anchor" id="map和unordered_map如何实现？"></a>
map和unordered_map如何实现？</h2>
<p>map基于红黑树实现。</p>
<p>unordered_map基于hashmap实现。</p>
<h2><a class="anchor" id="hashmap一种实现结构？"></a>
hashmap一种实现结构？</h2>
<p>数组，每一个数组存放一个值，同时数组也是链表的表头，链表存放哈希键值冲突的元素。 如果链表过长，则转换成红黑树。</p>
<h1><a class="anchor" id="其他"></a>
其他</h1>
<h2><a class="anchor" id="多线程要注意什么，要怎么做？"></a>
多线程要注意什么，要怎么做？</h2>
<p>要注意共享变量的互斥，即不能同时又读又写，或者同时写。</p>
<h2><a class="anchor" id="为什么会出现死锁问题，如何避免？"></a>
为什么会出现死锁问题，如何避免？</h2>
<p>在临界区域等待其他的锁。</p>
<p>避免方法：消费者不要在临界区域等待其他的锁，如果是小变量，临界区可以直接执行拷贝操作，如果是大内存，则拷贝指针。 不要把等待各个数据这种行为放到临界区域。</p>
<h2><a class="anchor" id="有那些智能指针，有何作用？"></a>
有那些智能指针，有何作用？</h2>
<p>shared_ptr，普通的智能指针，</p>
<p>unique_ptr，只允许有一个引用者的智能指针</p>
<p>weak_ptr，能否防止循环引用的智能指针。</p>
<h2><a class="anchor" id="智能指针如何实现？"></a>
智能指针如何实现？</h2>
<p>static类型的引用计数，指针本身，外加锁。</p>
<h2><a class="anchor" id="进程和线程的区别？"></a>
进程和线程的区别？</h2>
<p>进程内的量，共享一个内存空间，切换开销大，操作系统资源分配基本单位。</p>
<p>线程属于进程，多个线程共享一个堆和方法区，每个线程有自己的栈，程序计数器，切换开销小，处理器调度和执行的基本单位。 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <ul>
    <li class="navelem"><a class="el" href="zk_note.html">学习笔记</a></li><li class="navelem"><a class="el" href="programming.html">编程（Programming）</a></li><li class="navelem"><a class="el" href="cpp.html">C++：青出于蓝，我斑愿称之为最强！</a></li>
    <li class="footer">
      <span id="busuanzi_container_site_pv">
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
    </span>
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
